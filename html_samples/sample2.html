<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.2.4/cdn.min.js" defer></script>
</head>
<style>
/* 각 데이터 항목을 감싸는 박스 스타일 */
.data-item {
  padding: 0.85rem 1rem;
  border-radius: 0.5rem; /* 항목별로도 둥근 모서리 적용 */
  background-color: #f8f9fa; /* 밝은 회색 배경 */
  border: 1px solid #e9ecef; /* 부드러운 테두리 */
  height: 100%; /* 같은 row의 아이템 높이를 맞춰줌 */
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* '예수금'과 같은 라벨 스타일 */
.data-label {
  font-size: 0.85rem;   /* 라벨 폰트 크기 축소 */
  color: #6c757d;      /* 부드러운 회색 텍스트 */
  margin-bottom: 0.25rem;
}

/* 실제 데이터 값 스타일 */
.data-value {
  font-size: 1.2rem;    /* 데이터 값 폰트 크기 강조 */
  font-weight: 600;     /* 굵게 표시 */
  color: #212529;      /* 기본 검정 텍스트 */
}

/* 손익에 따른 색상 (수익: 파란색) */
.data-value.text-profit {
  color: #0d6efd !important;
}

/* 손익에 따른 색상 (손실: 빨간색) */
.data-value.text-loss {
  color: #dc3545 !important;
}

/* Alpine.js의 x-show를 위한 부드러운 전환 효과 */
[x-cloak] { display: none !important; }
[x-transition] {
    transition: opacity 0.3s ease-in-out;
}    
</style>
<body>
    <!-- 
  Alpine.js 초기화를 위해 상위 엘리먼트에 x-data를 선언해줍니다. 
  'data' 객체는 API로부터 받아온 데이터라고 가정합니다.
-->
<div x-data="{ summary_full: false }">

  <!-- 1. Card 컴포넌트로 전체를 감쌉니다 -->
  <div class="card shadow-sm rounded-lg">
    <div class="card-body">

      <!-- Card 제목과 상세/간략 토글 버튼 -->
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h5 class="card-title fw-bold mb-0">자산 현황</h5>
        <button class="btn btn-sm btn-outline-secondary" @click="summary_full = !summary_full">
          <span x-show="!summary_full">상세보기</span>
          <span x-show="summary_full" style="display: none;">간략히</span>
        </button>
      </div>

      <!-- 2. Grid 시스템으로 항목들을 배치합니다 -->
      <div class="row g-3">
        <!-- 기본 항상 보이는 항목들 -->
        <!-- col-md-6: 중간 크기(md) 이상의 화면에서는 한 줄에 2개씩 표시 -->
        <div class="col-md-6">
          <div class="data-item">
            <div class="data-label">예수금</div>
            <div class="data-value" x-text="Number(data?.예수금).toLocaleString() + ' 원'"></div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="data-item">
            <div class="data-label">D+2추정예수금</div>
            <div class="data-value" x-text="Number(data?.['D+2추정예수금']).toLocaleString() + ' 원'"></div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="data-item">
            <div class="data-label">유가잔고평가액</div>
            <div class="data-value" x-text="Number(data?.유가잔고평가액).toLocaleString() + ' 원'"></div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="data-item">
            <div class="data-label">예탁자산평가액</div>
            <div class="data-value fw-bold" x-text="Number(data?.예탁자산평가액).toLocaleString() + ' 원'"></div>
          </div>
        </div>
        <!-- ... 다른 기본 항목들 ... -->
      </div>

      <!-- 3. 상세 항목 (Alpine.js로 제어) -->
      <div x-show="summary_full" x-transition class="mt-3">
        <hr class="my-3">
        <div class="row g-3">
          <!-- ... 매도담보대출금 등 상세 항목들 (col-md-6) ... -->
          
          <!-- 손익 관련 항목들 (손익에 따라 색상 변경) -->
          <div class="col-md-6">
            <div class="data-item">
              <div class="data-label">당일투자손익</div>
              <div class="data-value" :class="data?.당일투자손익 >= 0 ? 'text-profit' : 'text-loss'" x-text="Number(data?.당일투자손익).toLocaleString() + ' 원'"></div>
            </div>
          </div>
          <!-- ... 다른 손익 항목들 ... -->
          
          <div class="col-12"><hr class="my-2"></div>
          
          <!-- 손익율 항목: 한 줄에 3개 -->
          <!-- col-lg-4: 큰 화면(lg)에서는 한 줄에 3개, 그보다 작으면 1개씩 표시 -->
          <div class="col-lg-4 col-md-6">
             <div class="data-item text-center">
                <div class="data-label">당일손익율</div>
                <div class="data-value" :class="data?.당일손익율 >= 0 ? 'text-profit' : 'text-loss'" x-text="data?.당일손익율 + ' %'"></div>
             </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="data-item text-center">
               <div class="data-label">당월손익율</div>
               <div class="data-value" :class="data?.당월손익율 >= 0 ? 'text-profit' : 'text-loss'" x-text="data?.당월손익율 + ' %'"></div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="data-item text-center">
               <div class="data-label">누적손익율</div>
               <div class="data-value" :class="data?.누적손익율 >= 0 ? 'text-profit' : 'text-loss'" x-text="data?.누적손익율 + ' %'"></div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
</body>
</html>
