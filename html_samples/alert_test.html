<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alert í…ŒìŠ¤íŠ¸</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css">
</head>
<body>
    <div class="container mt-4">
        <h2>ğŸš¨ Alert ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</h2>
        
        <!-- Alert Component -->
        <div id="alert" class="alert d-flex align-items-center d-none" role="alert">
            <i id="alertIcon" class="bi me-2"></i>
            <div>
                <span id="alertStatus" class="me-2"></span>
                <span id="alertMessage"></span>
            </div>
            <button type="button" class="btn-close ms-auto" aria-label="Close" onclick="hideAlert()"></button>
        </div>

        <div class="row mt-4">
            <div class="col-md-6">
                <h4>ğŸ¯ showAlert í•¨ìˆ˜ í…ŒìŠ¤íŠ¸</h4>
                <div class="d-grid gap-2">
                    <button class="btn btn-success" onclick="showAlert('ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success')">ì„±ê³µ Alert</button>
                    <button class="btn btn-danger" onclick="showAlert('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤!', 'error')">ì˜¤ë¥˜ Alert</button>
                    <button class="btn btn-warning" onclick="showAlert('ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤!', 'warning')">ê²½ê³  Alert</button>
                    <button class="btn btn-info" onclick="showAlert('ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”!', 'info')">ì •ë³´ Alert</button>
                </div>
            </div>
            
            <div class="col-md-6">
                <h4>ğŸ”§ showAlertError í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ (í˜¸í™˜ì„±)</h4>
                <div class="d-grid gap-2">
                    <button class="btn btn-outline-danger" onclick="testAlertError1()">ê¸°ë³¸ ì˜¤ë¥˜</button>
                    <button class="btn btn-outline-danger" onclick="testAlertError2()">ìƒíƒœì½”ë“œ í¬í•¨ ì˜¤ë¥˜</button>
                </div>
            </div>
        </div>
        
        <div class="mt-4">
            <h4>â±ï¸ ì§€ì†ì‹œê°„ í…ŒìŠ¤íŠ¸</h4>
            <div class="d-grid gap-2 d-md-flex">
                <button class="btn btn-outline-primary" onclick="showAlert('1ì´ˆ í›„ ì‚¬ë¼ì§‘ë‹ˆë‹¤', 'info', 1000)">1ì´ˆ Alert</button>
                <button class="btn btn-outline-primary" onclick="showAlert('ìë™ìœ¼ë¡œ ì‚¬ë¼ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤', 'warning', 0)">ì˜êµ¬ Alert</button>
                <button class="btn btn-outline-secondary" onclick="hideAlert()">ìˆ˜ë™ ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // Alert í•¨ìˆ˜ë“¤
        function showAlert(message, type = 'error', duration = 5000) {
            const alertConfig = {
                success: {
                    class: 'alert-success',
                    icon: 'bi-check-circle',
                    prefix: '[ì„±ê³µ]'
                },
                error: {
                    class: 'alert-danger',
                    icon: 'bi-exclamation-triangle',
                    prefix: '[ì˜¤ë¥˜]'
                },
                warning: {
                    class: 'alert-warning',
                    icon: 'bi-exclamation-triangle',
                    prefix: '[ê²½ê³ ]'
                },
                info: {
                    class: 'alert-info',
                    icon: 'bi-info-circle',
                    prefix: '[ì •ë³´]'
                }
            };

            const config = alertConfig[type] || alertConfig.error;
            const $alert = document.getElementById('alert');
            const $alertIcon = document.getElementById('alertIcon');
            const $alertStatus = document.getElementById('alertStatus');
            const $alertMessage = document.getElementById('alertMessage');

            if (!$alert || !$alertIcon || !$alertStatus || !$alertMessage) {
                console.error('Alert elements not found');
                return;
            }

            // Alert ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
            $alert.className = `alert d-flex align-items-center ${config.class}`;
            $alertIcon.className = `bi ${config.icon} me-2`;
            $alertStatus.textContent = config.prefix;
            $alertMessage.textContent = message;

            // Alert í‘œì‹œ
            $alert.classList.remove('d-none');

            // ì§€ì •ëœ ì‹œê°„ í›„ ìë™ìœ¼ë¡œ ìˆ¨ê¹€
            if (duration > 0) {
                setTimeout(() => {
                    hideAlert();
                }, duration);
            }
        }

        function hideAlert() {
            const $alert = document.getElementById('alert');
            if ($alert) {
                $alert.classList.add('d-none');
            }
        }

        function showAlertError(error) {
            const statusCode = error.status;
            const detail = error.detail || error.message;
            const message = statusCode ? `[${statusCode}] ${detail}` : detail;
            
            showAlert(message, 'error', 5000);
        }

        // í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤
        function testAlertError1() {
            showAlertError({
                message: "ì„œë²„ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤"
            });
        }

        function testAlertError2() {
            showAlertError({
                status: 404,
                detail: "ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
            });
        }
    </script>
</body>
</html>
